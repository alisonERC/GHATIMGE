GAMS 38.2.1  96226ea8 Feb 19, 2022          WEX-WEI x86 64bit/MS Windows - 09/20/22 22:32:41 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   2   
GDXIN   C:\Models\GHATIMGE\CGE\modeldatab.gdx
   5   
   6  SETS
   7   AC                      global set for model accounts - aggregated micros
      am accounts
   8   ACNT(AC)                all elements in AC except TOTAL
   9   A(AC)                   activities
  10   H(AC)                   households
  11  ;
  12   
  13  PARAMETER
  14   SAM(AC,AC)              standard SAM
  15   SAMBALCHK(AC)           column minus row total for SAM
  16   GAS(*,*)                details for gas separation
  17  ;
  18   
--- LOAD  AC = 1:AC
--- LOAD  A = 2:A
--- LOAD  H = 13:H
--- LOAD  SAM = 33:SAM
--- LOAD  GAS = 51:GAS
  21   
  22  ALIAS
  23   (AC,ACP), (ACNT,ACNTP), (A, AP), (H, HP);
  24   
  25   ACNT(AC)               = YES;
  26   ACNT('TOTAL')          = NO;
  27   
  28  *-------------------------------------------------------------------------
      ------
  29  *1. SAM adjustments
  30  *-------------------------------------------------------------------------
      ------
  31  *combine coffee and coco
  32   SAM('ccoco',ACNT)=SAM('ccoco',ACNT)+SAM('ccoff',ACNT);
  33   SAM(ACNT,'ccoco')=SAM(ACNT,'ccoco')+SAM(ACNT,'ccoff');
  34   
  35   SAM('acoco',ACNT)=SAM('acoco',ACNT)+SAM('acoff',ACNT);
  36   SAM(ACNT,'acoco')=SAM(ACNT,'acoco')+SAM(ACNT,'acoff');
  37   
  38   SAM('ccoff',ACNT)=0;
  39   SAM(ACNT,'ccoff')=0;
  40   
  41   SAM('acoff',ACNT)=0;
  42   SAM(ACNT,'acoff')=0;
  43   
  44  *combine types of capital
  45  *Combining other types of capital
  46   SAM('fcap',AC)=SAM('fcap-c',AC)+SAM('fcap-l',AC)+SAM('fcap-m',AC)+SAM('fc
      ap-n',AC);
  47   SAM(AC,'fcap')=SAM(AC,'fcap-c')+SAM(AC,'fcap-l')+SAM(AC,'fcap-m')+SAM(AC,
      'fcap-n');
  48   
  49   SAM('fcap-c',AC)=0;
  50   SAM('fcap-l',AC)=0;
  51   SAM('fcap-m',AC)=0;
  52   SAM('fcap-n',AC)=0;
  53   
  54   SAM(AC,'fcap-c')=0;
  55   SAM(AC,'fcap-l')=0;
  56   SAM(AC,'fcap-m')=0;
  57   SAM(AC,'fcap-n')=0;
  58   
  59  *-------------------------------------------------------------------------
      ------
  60  *20/09/22
  61  *2. Separarting natural gas and crude oil
  62  *-------------------------------------------------------------------------
      ------
  63  *net exports
  64  Parameter
  65  TEST
  66  ;
  67   
  68   SAM('ANGAS','CNGAS')=GAS('PRODUCTION','VALUE');
  69   SAM('ANGAS','TOTAL')=SAM('ANGAS','CNGAS');
  70   
  71   SAM(ACNT,'ANGAS')=SAM('ANGAS','TOTAL')*(SAM(ACNT,'ACOIL')/SUM(ACNTP,SAM(A
      CNTP,'ACOIL')));
  72   
  73   SAM('CNGAS','ROW') = 0.000001;
  74   SAM('CNGAS','AELEC') = GAS('POWER','VALUE')-0.000001;
  75   SAM('CNGAS','TOTAL') = SUM(ACNT, SAM('CNGAS',ACNT));
  76   
  77   SAM('ROW','CNGAS') = GAS('IMPORTS','VALUE');
  78  * SAM('MTAX','CNGAS')= SAM('MTAX','CCOIL');
  79  * SAM('TRC','CNGAS') = (SAM('TRC','CCOIL')/SAM('TOTAL','CCOIL'))*SAM('CNGA
      S','TOTAL');
  80   
  81   SAM('ACOIL','CCOIL')=SAM('ACOIL','CCOIL')-SAM('ANGAS','CNGAS');
  82   SAM(ACNT,'ACOIL')= SAM(ACNT,'ACOIL')- SAM(ACNT,'ANGAS');
  83   
  84   SAM('CCOIL','ROW')  = SAM('CCOIL','ROW')  -SAM('CNGAS','ROW');
  85   SAM('CCOIL','AELEC')= SAM('CCOIL','AELEC')-SAM('CNGAS','AELEC');
  86   
  87   SAM('ROW' ,'CCOIL') = SAM('ROW' ,'CCOIL')  -  SAM('ROW','CNGAS');
  88  * SAM('MTAX','CCOIL')=  SAM('MTAX','CCOIL') -  SAM('MTAX','CNGAS');
  89  * SAM('TRC' ,'CCOIL') = SAM('TRC' ,'CCOIL')  -  SAM('TRC','CNGAS') ;
  90   
  91   SAM('TOTAL',AC) = SUM(ACNT, SAM(ACNT,AC));
  92   SAM(AC,'TOTAL') = SUM(ACNT, SAM(AC,ACNT));
  93   SAMBALCHK(AC)   = SAM('TOTAL',AC) - SAM(AC,'TOTAL');
  94   
  95  *-------------------------------------------------------------------------
      ------
  96  *3. Adjusting SAM to account for energy volumes
  97  *-------------------------------------------------------------------------
      ------
  98  Sets
  99   ea
 100   meaac(ea,ac)
 101  ;
 102   
 103  Parameter
 104   xprice(ac)      power price
 105   ebal(ea)        power use (PJ)
 106   eval(ea)        expected energy value (energy aggregate)
 107   eval2(ac)       expected energy value (SAM accounts)
 108   eval3(*)        expected energy value (SAM accounts) - trade
 109   eutax(ac)       difference in energy values
 110  ;
 111   
--- LOAD  ea = 49:ea
--- LOAD  meaac = 50:meaac
--- LOAD  xprice = 47:XPRICE
--- LOAD  ebal = 48:ebal
 114   
 115  *remove power own consumption
 116   SAM('aelec','celec')=SAM('aelec','celec')-SAM('celec','aelec');
 117   SAM('celec','aelec')=0;
 118   
 119   SAM('TOTAL',AC) = SUM(ACNT, SAM(ACNT,AC));
 120   SAM(AC,'TOTAL') = SUM(ACNT, SAM(AC,ACNT));
 121   SAMBALCHK(AC)   = SAM('TOTAL',AC) - SAM(AC,'TOTAL');
 122  display SAMBALCHK;
 123   
 124  *Add in net electricity exports
 125  *SAM currently includes very small volumes which seem incorrect given the 
      energy balance
 126  *1sambal.inc is used to balance the SAM
 127   
 128  *Create net imports
 129   SAM('row','celec')=SAM('row','celec')-SAM('celec','row');
 130   SAM('celec','row')=0;
 131   
 132   SAM('TOTAL',AC) = SUM(ACNT, SAM(ACNT,AC));
 133   SAM(AC,'TOTAL') = SUM(ACNT, SAM(AC,ACNT));
 134   SAMBALCHK(AC)   = SAM('TOTAL',AC) - SAM(AC,'TOTAL');
 135   
 136   
      *include new value for exports
      * SAM('celec','row')  =  (ebal('exp')-ebal('imp'))*xprice('celec');
       SAM('celec','dstk')=SAM('celec','dstk')+(SAM('row','celec')-SAM('celec','
      row')+
                               (ebal('imp')-ebal('exp'))*xprice('celec'));
       SAM('row','celec')  =  (ebal('imp')-ebal('exp'))*xprice('celec');
       SAM('celec','row')  = 0;
       
       SAM('gov','mtax')=SAM('gov','mtax')-SAM('mtax', 'celec');
       SAM('s-i','gov')=SAM('s-i','gov')-SAM('mtax', 'celec');
       
       SAM('celec','dstk')=SAM('aelec','celec')-sum(ACNT,SAM('celec',ACNT));
       SAM('dstk','s-i')=SAM('dstk','s-i')+SAM('celec','dstk');
       SAM('s-i','row')=SAM('s-i','row')+SAM('celec','dstk')+SAM('mtax', 'celec'
      );
       
      *remove imports
       SAM('row', 'celec')=0;
       SAM('mtax', 'celec')=0;
       
      $include includes/1sambal.inc
 158   
 159   SAM('TOTAL',AC) = SUM(ACNT, SAM(ACNT,AC));
 160   SAM(AC,'TOTAL') = SUM(ACNT, SAM(AC,ACNT));
 161   SAMBALCHK(AC)   = SAM('TOTAL',AC) - SAM(AC,'TOTAL');
 162  display SAMBALCHK;
 163   
 164   eval(ea)=ebal(ea)*xprice('celec');
 165   eval2(a)$SAM('celec',a)=sum(ea$meaac(ea,a),eval(ea))*(SAM('celec',a)/sum(
      ea$meaac(ea,a),sum(ap$meaac(ea,ap),SAM('celec',ap))));
 166   eval2(h)$SAM('celec',h)=sum(ea$meaac(ea,h),eval(ea))*(SAM('celec',h)/sum(
      ea$meaac(ea,h),sum(hp$meaac(ea,hp),SAM('celec',hp))));
 167   
 168   eutax(ac)$eval2(ac)=SAM('celec',ac)-eval2(ac);
 169   
 170   SAM('celec',a)=eval2(a);
 171   SAM('celec',h)=eval2(h);
 172   
 173   SAM('utax',ac)=eutax(ac);
 174   
 175   SAM('ent','utax')=sum(ACNT,SAM('utax',ACNT));
 176   
 177   SAM('TOTAL',AC) = SUM(ACNT, SAM(ACNT,AC));
 178   SAM(AC,'TOTAL') = SUM(ACNT, SAM(AC,ACNT));
 179   SAMBALCHK(AC)   = SAM('TOTAL',AC) - SAM(AC,'TOTAL');
 180  display SAMBALCHK;
 181  *$exit
 182  *-------------------------------------------------------------------------
      ------
 183  *2. Capital account for electricity
 184  *-------------------------------------------------------------------------
      ------
 185  *$ontext
 186   SAM('fegy','aelec')=SAM('fcap','aelec');
 187   SAM('ent','fegy')=SAM('fegy','aelec');
 188   
 189   SAM('fcap','aelec')=SAM('fcap','aelec')-SAM('fegy','aelec');
 190   SAM('ent','fcap')=SAM('ent','fcap')-SAM('ent','fegy');
 191  *$offtext
 192   
 193   SAM('TOTAL',AC) = SUM(ACNT, SAM(ACNT,AC));
 194   SAM(AC,'TOTAL') = SUM(ACNT, SAM(AC,ACNT));
 195   SAMBALCHK(AC)   = SAM('TOTAL',AC) - SAM(AC,'TOTAL');
 196   
 197   execute_unload "boom.gdx" SAM;
 198   execute 'gdxxrw.exe i=boom.gdx o=1model2015GH.xlsx index=index2!a80';
GAMS 38.2.1  96226ea8 Feb 19, 2022          WEX-WEI x86 64bit/MS Windows - 09/20/22 22:32:41 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Models\GHATIMGE\CGE\Energy.gms
     2        3 CALL           1       3  gdxxrw i=1model2015GH.xlsx o=modeldata
                                          b.gdx index=index2!a5 checkdate
     3        4 GDXIN          1       4  C:\Models\GHATIMGE\CGE\modeldatab.gdx


COMPILATION TIME     =        0.922 SECONDS      3 MB  38.2.1 96226ea8 WEX-WEI
GAMS 38.2.1  96226ea8 Feb 19, 2022          WEX-WEI x86 64bit/MS Windows - 09/20/22 22:32:41 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


----    122 PARAMETER SAMBALCHK  column minus row total for SAM

amaiz   -4.5475E-13,    arice   2.27374E-13,    apuls   -5.6843E-14
agnut   1.13687E-13,    aoils   6.82121E-13,    acass   2.27374E-13
aroot   4.54747E-13,    acott   -2.8422E-14,    afrui   -9.0949E-13
acoco   1.81899E-12,    aocrp   8.52651E-14,    apoul   2.27374E-13
aoliv   -2.2737E-13,    acoil   7.27596E-12,    aomin   -1.0914E-11
ameat   1.13687E-13,    afveg   8.52651E-14,    afoil   -6.8212E-13
agmll   -9.0949E-13,    asref   5.68434E-14,    afood   -4.5475E-13
abeve   2.27374E-13,    aptob   1.42109E-14,    aclth   5.68434E-14
aleat   -7.1054E-15,    awood   1.36424E-12,    achem   -9.0949E-13
anmet   6.82121E-13,    ametl   -4.5475E-13,    amach   2.84217E-14
aoman   -2.8422E-13,    aelec   5.45697E-12,    acons   -7.2760E-12
ahotl   -3.6380E-12,    acomm   -9.0949E-13,    afsrv   -2.7285E-12
areal   -3.6380E-12,    absrv   5.45697E-12,    apadm   -5.4570E-12
aeduc   7.27596E-12,    aheal   9.09495E-13,    crice   4.54747E-13
cocer   -5.6843E-14,    cpuls   -5.6843E-14,    cgnut   -5.6843E-14
coils   -4.5475E-13,    croot   2.27374E-13,    cvege   -9.0949E-13
csugr   -7.1054E-15,    ctoba   -5.3291E-15,    ccott   -1.1369E-13
cfrui   -4.5475E-13,    ccoco   -1.8190E-12,    ccatt   -2.2737E-13
cpoul   2.27374E-13,    coliv   1.13687E-13,    cfore   -4.5475E-13
cfish   -6.8212E-13,    ccoil   -5.4570E-12,    comin   7.27596E-12
cmeat   9.09495E-13,    cfveg   2.27374E-13,    cfoil   4.54747E-13
csref   3.41061E-13,    cptob   -1.4211E-14,    ctext   4.54747E-13
cclth   -4.5475E-13,    cleat   -5.6843E-14,    cwood   9.09495E-13
cchem   1.81899E-12,    cmetl   -1.8190E-12,    cmach   3.63798E-12
celec   1.81899E-12,    cwatr   -9.0949E-13,    chotl   -1.8190E-12
ccomm   1.81899E-12,    creal   -1.8190E-12,    cbsrv   3.63798E-12
cpadm   -3.6380E-12,    ceduc   1.81899E-12,    cheal   -4.5475E-13
trc     -1.0914E-11,    flab-rp -9.0949E-13,    flab-rs -2.2737E-13
flab-rt 2.27374E-13,    flab-up -1.8190E-12,    flab-us 1.81899E-12
flab-ut 4.54747E-12,    flnd    1.81899E-12,    fcap    -2.9104E-11
ent     -2.26137E-8,    hhd-f1  -9.0949E-13,    hhd-f2  1.81899E-12
hhd-f3  -1.8190E-12,    hhd-f4  2.72848E-12,    hhd-n2  -2.2737E-13
hhd-n3  9.09495E-13,    hhd-n4  -9.0949E-13,    hhd-n5  9.09495E-13
hhd-u1  -2.2737E-13,    hhd-u3  1.81899E-12,    hhd-u4  -3.6380E-12
hhd-u5  1.45519E-11,    gov     7.27596E-12,    dtax    -9.7316E-11
stax    -5.4570E-12,    s-i     2.284651E-8,    dstk    2.27374E-12
row     -1.4552E-10


----    162 PARAMETER SAMBALCHK  column minus row total for SAM

amaiz   -4.5475E-13,    arice   2.27374E-13,    apuls   -5.6843E-14
agnut   1.13687E-13,    aoils   6.82121E-13,    acass   2.27374E-13
aroot   4.54747E-13,    acott   -2.8422E-14,    afrui   -9.0949E-13
acoco   1.81899E-12,    aocrp   8.52651E-14,    apoul   2.27374E-13
aoliv   -2.2737E-13,    acoil   7.27596E-12,    aomin   -1.0914E-11
ameat   1.13687E-13,    afveg   8.52651E-14,    afoil   -6.8212E-13
agmll   -9.0949E-13,    asref   5.68434E-14,    afood   -4.5475E-13
abeve   2.27374E-13,    aptob   1.42109E-14,    aclth   5.68434E-14
aleat   -7.1054E-15,    awood   1.36424E-12,    achem   -9.0949E-13
anmet   6.82121E-13,    ametl   -4.5475E-13,    amach   2.84217E-14
aoman   -2.8422E-13,    aelec   5.45697E-12,    acons   -7.2760E-12
ahotl   -3.6380E-12,    acomm   -9.0949E-13,    afsrv   -2.7285E-12
areal   -3.6380E-12,    absrv   5.45697E-12,    apadm   -5.4570E-12
aeduc   7.27596E-12,    aheal   9.09495E-13,    crice   4.54747E-13
cocer   -5.6843E-14,    cpuls   -5.6843E-14,    cgnut   -5.6843E-14
coils   -4.5475E-13,    croot   2.27374E-13,    cvege   -9.0949E-13
csugr   -7.1054E-15,    ctoba   -5.3291E-15,    ccott   -1.1369E-13
cfrui   -4.5475E-13,    ccoco   -1.8190E-12,    ccatt   -2.2737E-13
cpoul   2.27374E-13,    coliv   1.13687E-13,    cfore   -4.5475E-13
cfish   -6.8212E-13,    ccoil   -5.4570E-12,    comin   7.27596E-12
cmeat   9.09495E-13,    cfveg   2.27374E-13,    cfoil   4.54747E-13
csref   3.41061E-13,    cptob   -1.4211E-14,    ctext   4.54747E-13
cclth   -4.5475E-13,    cleat   -5.6843E-14,    cwood   9.09495E-13
cchem   1.81899E-12,    cmetl   -1.8190E-12,    cmach   3.63798E-12
celec   1.81899E-12,    cwatr   -9.0949E-13,    chotl   -1.8190E-12
ccomm   1.81899E-12,    creal   -1.8190E-12,    cbsrv   3.63798E-12
cpadm   -3.6380E-12,    ceduc   1.81899E-12,    cheal   -4.5475E-13
trc     -1.0914E-11,    flab-rp -9.0949E-13,    flab-rs -2.2737E-13
flab-rt 2.27374E-13,    flab-up -1.8190E-12,    flab-us 1.81899E-12
flab-ut 4.54747E-12,    flnd    1.81899E-12,    fcap    -2.9104E-11
ent     -2.26137E-8,    hhd-f1  -9.0949E-13,    hhd-f2  1.81899E-12
hhd-f3  -1.8190E-12,    hhd-f4  2.72848E-12,    hhd-n2  -2.2737E-13
hhd-n3  9.09495E-13,    hhd-n4  -9.0949E-13,    hhd-n5  9.09495E-13
hhd-u1  -2.2737E-13,    hhd-u3  1.81899E-12,    hhd-u4  -3.6380E-12
hhd-u5  1.45519E-11,    gov     7.27596E-12,    dtax    -9.7316E-11
stax    -5.4570E-12,    s-i     2.284651E-8,    dstk    2.27374E-12
row     -1.4552E-10


----    180 PARAMETER SAMBALCHK  column minus row total for SAM

amaiz   -4.5475E-13,    arice   2.27374E-13,    apuls   -5.6843E-14
agnut   1.13687E-13,    aoils   6.82121E-13,    acass   2.27374E-13
aroot   4.54747E-13,    acott   -2.8422E-14,    afrui   -9.0949E-13
acoco   1.81899E-12,    aocrp   5.68434E-14,    acatt   2.27374E-13
apoul   2.27374E-13,    aoliv   -2.2737E-13,    acoil   9.09495E-12
aomin   -1.4552E-11,    ameat   1.70530E-13,    afveg   8.52651E-14
afoil   -9.0949E-13,    agmll   -9.0949E-13,    asref   5.68434E-14
afood   -4.5475E-13,    abeve   2.27374E-13,    aptob   1.42109E-14
aclth   5.68434E-14,    aleat   -7.1054E-15,    awood   1.36424E-12
apetr   -9.0949E-13,    achem   -9.0949E-13,    anmet   6.82121E-13
ametl   -4.5475E-13,    amach   1.42109E-14,    aoman   -2.8422E-13
aelec   5.45697E-12,    acons   -7.2760E-12,    atran   -3.6380E-12
ahotl   -3.6380E-12,    acomm   -9.0949E-13,    afsrv   -1.8190E-12
areal   -3.6380E-12,    absrv   5.45697E-12,    apadm   -5.4570E-12
aeduc   7.27596E-12,    aheal   9.09495E-13,    crice   4.54747E-13
cocer   -5.6843E-14,    cpuls   -5.6843E-14,    cgnut   -5.6843E-14
coils   -4.5475E-13,    croot   2.27374E-13,    cvege   -9.0949E-13
csugr   -7.1054E-15,    ctoba   -5.3291E-15,    ccott   -1.1369E-13
cfrui   -4.5475E-13,    ccoco   -1.8190E-12,    ccatt   -2.2737E-13
cpoul   2.27374E-13,    coliv   1.13687E-13,    cfore   -4.5475E-13
cfish   -6.8212E-13,    ccoil   -5.4570E-12,    comin   7.27596E-12
cmeat   9.09495E-13,    cfveg   2.27374E-13,    cfoil   4.54747E-13
csref   3.41061E-13,    cptob   -1.4211E-14,    ctext   4.54747E-13
cclth   -4.5475E-13,    cleat   -5.6843E-14,    cwood   9.09495E-13
cchem   1.81899E-12,    cmetl   -1.8190E-12,    cmach   3.63798E-12
celec   2.54659E-11,    cwatr   -9.0949E-13,    chotl   -1.8190E-12
ccomm   1.81899E-12,    creal   -1.8190E-12,    cbsrv   3.63798E-12
cpadm   -3.6380E-12,    ceduc   1.81899E-12,    cheal   -4.5475E-13
trc     -1.0914E-11,    flab-rp -9.0949E-13,    flab-rs -2.2737E-13
flab-rt 2.27374E-13,    flab-up -1.8190E-12,    flab-us 1.81899E-12
flab-ut 4.54747E-12,    flnd    1.81899E-12,    fcap    -2.9104E-11
ent     -2.26428E-8,    hhd-f1  -9.0949E-13,    hhd-f2  1.81899E-12
hhd-f3  -1.8190E-12,    hhd-f4  2.72848E-12,    hhd-n2  -2.2737E-13
hhd-n3  9.09495E-13,    hhd-n4  -9.0949E-13,    hhd-u1  -4.5475E-13
hhd-u2  9.09495E-13,    hhd-u3  3.63798E-12,    hhd-u4  -3.6380E-12
hhd-u5  1.45519E-11,    gov     7.27596E-12,    dtax    -9.7316E-11
stax    -5.4570E-12,    s-i     2.284651E-8,    dstk    2.27374E-12
row     -1.4552E-10



EXECUTION TIME       =        2.344 SECONDS      4 MB  38.2.1 96226ea8 WEX-WEI


USER: MUD - 70 User License                          G210405|0002CV-GEN
      International Food Policy Research Institute, Computer ServDC2119


**** FILE SUMMARY

Input      C:\Models\GHATIMGE\CGE\Energy.gms
Output     C:\Models\GHATIMGE\CGE\Energy.lst
