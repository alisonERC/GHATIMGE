* CAPUNT.ANS

* Provide defaults for SET PRC_CAPUNT, PARAMETER PRC_CAPACT if not specified.

PRIMACT_CG(REG,PRC,CG)$SUM(UNITS_ACT, PRC_ACTUNT(REG,PRC,CG,UNITS_ACT)) = YES;
COUNT_CG(REG,PRC) = EPS + SUM(CG$PRIMACT_CG(REG,PRC,CG), 1);
*option COUNT_CG:0:0:1; display COUNT_CG;

PRIMCAP_CG(REG,PRC,CG)$SUM(UNITS_CAP, PRC_CAPUNT(REG,PRC,CG,UNITS_CAP)) = YES;

LOOP((PRC,CG)$PRIMACT_CG(REG,PRC,CG),
  IF(NOT PRIMCAP_CG(REG,PRC,CG),
    PRC_CAPUNT(REG,PRC,CG,'PJA')$(NOT (PRC_ELE(PRC) OR PRC_CHP(PRC))) = YES$PRC_ACTUNT(REG,PRC,CG,'PJ'); 
    PRC_CAPUNT(REG,PRC,CG,'GW')$(PRC_ELE(PRC) OR PRC_CHP(PRC)) = YES$PRC_ACTUNT(REG,PRC,CG,'PJ'); 
  );
);
*option PRC_CAPUNT:0:0:1; display PRC_CAPUNT;

*option PRC_CAPACT:0:0:1; display PRC_CAPACT;

* Provide defaults for PARAMETER PRC_CAPACT if not specified, and if PRC is in REG.
PRC_CAPACT(REG,PRC)$(AREG_PRC(PRC) AND (NOT PRC_CAPACT(REG,PRC))) = 1;
