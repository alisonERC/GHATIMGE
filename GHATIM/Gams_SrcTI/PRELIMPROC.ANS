* $BATINCLUDE PRELIMPROC.ANS %1

* %1 = full filename associated with input GAMS TIMES DD

* Preliminary processing of %1

$OFFLISTING
$PHANTOM EMPTY
$IF NOT SET BOTIME $SETLOCAL BOTIME 1850
$IF NOT SET EOTIME $SETLOCAL EOTIME 2200
SET ALLYEAR / %BOTIME%*%EOTIME% /
SET ALL_TS / ANNUAL /
SET DATAYEAR(ALLYEAR) / EMPTY /;
SET MILESTONYR(ALLYEAR) / EMPTY /;
$ONMULTI

$INCLUDE ALL_TS.ANS

* perform fixed declarations
$   BATINCLUDE initsys.mod

* declare the (system/user) empties
$   BATINCLUDE initmty.mod
$   BATINCLUDE initmty.ier

$PHANTOM EMPTY

*** specify input GAMS TIMES DD
$INCLUDE %1
;

$INCLUDE DATAYEAR.ANS
;
$INCLUDE MILESTONYR.ANS
;
$INCLUDE G_DYEAR.ANS
;
$BATINCLUDE CREATEFIL2.ANS 1 DATAYEAR TXT
$BATINCLUDE CREATEFIL2.ANS 2 MILESTONYR TXT
$BATINCLUDE CREATEFIL2.ANS 3 ALL_TS TXT
$BATINCLUDE MAXITEMLEN.ANS 4 MAXITEMLEN TXT

